'use strict';function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function buildGameLinks(a){var b='';return a.forEach(function(a){b+='<a data-url="'+a.url+'" class="matchLink" href="#">'+a.title+'</a>'}),0==a.length&&(b+='Response Error'),b}function initMatchClicks(a){[].concat(_toConsumableArray(document.querySelectorAll('.matchLink'))).forEach(function(b){b.addEventListener('click',function(b){a(b.target.textContent,b.target.dataset.url)})})}function showSeats(a){var b='<h4></h4>';return 0==a.length&&(b+='<p>blocks.length == 0</p>'),a.forEach(function(a){b+='<p>\n    <a data-url="" class="matchLink" href="'+a.link+'">'+a.name+'</a>\n    Free Seats '+a.freeSeats+' Price: '+a.price+' \u20AC\n    </p>'}),b}function addLoader(){return'<div class="loading"></div>'}
'use strict';var searchPrice,blockResponse=[],searchFound=!1,requestMatches='/matches',requestMatchUrl='/match/',head=document.querySelector('.head'),body=document.querySelector('.body'),opt={credentials:'include'};showUpcommingMatches();function showUpcommingMatches(){body.innerHTML='Get upcomming matches',fetch(requestMatches,opt).then(function(a){return a.json()}).then(function(a){body.innerHTML=buildGameLinks(a),initMatchClicks(scanMatch)}).catch(function(){})}function scanMatch(a,b){head.innerHTML=a,body.innerHTML='<p class="alertHeader"></p>',body.innerHTML+='<div class="blocks">'+addLoader()+'</div>',updateAlertHeader(),fetchMatch(b)}function fetchMatch(a){document.querySelector('.blocks').innerHTML=addLoader(),fetch(requestMatchUrl+encodeURIComponent(a),opt).then(function(a){return a.json()}).then(function(b){blockResponse=b,document.querySelector('.blocks').innerHTML=showSeats(b),document.querySelector('.loading').remove(),checkPrice(),delayedScanMatch(a)}).catch(function(){delayedScanMatch(a)})}function addAlert(){searchPrice=parseInt(prompt('Enter Price to look for')),Number.isInteger(searchPrice)?(updateAlertHeader(),checkPrice()):alert('Not Valid')}function checkPrice(){searchFound?!foundSearchedPrice()&&(searchFound=!1,whop.pause()):foundSearchedPrice()&&(searchFound=!0,whop.play())}function foundSearchedPrice(){return Number.isInteger(searchPrice)&&1<=blockResponse.length&&blockResponse[0].price<=searchPrice}function delayedScanMatch(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:11000;window.setTimeout(function(){fetchMatch(a)},b)}function updateAlertHeader(){var a=document.querySelector('.alertHeader');a.innerHTML=Number.isInteger(searchPrice)?'Looking for '+searchPrice+'\u20AC <small><a href="#" onclick="addAlert()">change</a></small>':'<a href="#" onclick="addAlert()">Add Alert!</a>'}
